```mdx
# R Language Tutorial for Data Science

**Author:** Grok AI  
**Date:** September 18, 2025, 11:34 AM IST  

This tutorial provides a comprehensive guide to using the R programming language for data science, focusing on practical skills such as data manipulation, visualization, statistical analysis, and machine learning. Designed for beginners and intermediate learners, it includes real-life examples to demonstrate how R is applied in data science, using a relatable dataset based on a retail business scenario.

---

## Introduction to R for Data Science

### What is R?
- **Definition**: R is an open-source programming language and environment tailored for statistical computing, data analysis, and visualization.
- **Why R for Data Science?**:
  - Rich ecosystem of packages (e.g., `dplyr`, `ggplot2`, `caret`).
  - Excellent for statistical modeling and exploratory data analysis (EDA).
  - Widely used in academia, finance, healthcare, and marketing.
- **Setup**: Install R from [CRAN](https://cran.r-project.org/) and RStudio from [rstudio.com](https://www.rstudio.com/products/rstudio/download/).
  ```R
  R.version.string  # Verify: [1] "R version 4.4.1 (2025-06-15)"
  ```

### Real-Life Context
We’ll use a dataset simulating a small retail store’s sales data to explore how R can solve business problems like sales forecasting, customer segmentation, and inventory optimization.

#### Sample Dataset: Retail Sales
```R
# Create a sample retail sales dataset
retail_sales <- data.frame(
  Date = seq(as.Date("2024-01-01"), by = "month", length.out = 12),
  Product = rep(c("Laptop", "Phone", "Tablet"), each = 4),
  Units_Sold = c(150, 160, 155, 145, 200, 210, 205, 195, 100, 105, 98, 102),
  Revenue = c(150000, 160000, 155000, 145000, 120000, 126000, 123000, 117000, 50000, 52500, 49000, 51000),
  Customer_Segment = rep(c("Business", "Individual", "Business"), each = 4)
)
```

This dataset tracks monthly sales of three products across different customer segments from January to December 2024.

---

## R Basics for Data Science

### 1. Data Structures
- **Vector**:
  ```R
  sales_vector <- c(150, 200, 100)
  mean(sales_vector)  # [1] 150
  ```
- **Data Frame**:
  ```R
  head(retail_sales)  # View first 6 rows
  ```

### 2. Packages
- Install and load key packages:
  ```R
  install.packages(c("dplyr", "ggplot2", "forecast", "caret"))
  library(dplyr)
  library(ggplot2)
  library(forecast)
  library(caret)
  ```

---

## Data Manipulation with R

### 1. Exploring Data
- **Summary Statistics**:
  ```R
  summary(retail_sales$Revenue)
  # Output:
  #    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  #   49000  117750  134000  126250  155000  160000
  ```

- **Filter Data**:
  ```R
  high_revenue <- filter(retail_sales, Revenue > 140000)
  # Result: Rows where revenue exceeds 140,000
  ```

- **Group and Summarize**:
  ```R
  sales_summary <- retail_sales %>%
    group_by(Product, Customer_Segment) %>%
    summarise(Avg_Revenue = mean(Revenue), Total_Units = sum(Units_Sold))
  # Output:
  #   Product Customer_Segment Avg_Revenue Total_Units
  # 1 Laptop  Business          152500      610
  # 2 Phone   Individual        121500      810
  # 3 Tablet  Business           50625      405
  ```

### Real-Life Example: Inventory Optimization
A store manager wants to identify products with low sales to adjust inventory.
```R
low_selling <- retail_sales %>%
  group_by(Product) %>%
  summarise(Avg_Units = mean(Units_Sold)) %>%
  filter(Avg_Units < 130)
# Output suggests reducing Tablet stock
```

---

## Data Visualization with R

### 1. Base R Plots
- **Bar Plot for Sales by Product**:
  ```R
  barplot(retail_sales$Revenue, names.arg = retail_sales$Product, col = "lightgreen",
          main = "Total Revenue by Product (2024)", ylab = "Revenue ($)")
  ```

### 2. ggplot2 for Advanced Visualization
- **Revenue by Product and Segment**:
  ```R
  ggplot(retail_sales, aes(x = Product, y = Revenue, fill = Customer_Segment)) +
    geom_bar(stat = "identity") +
    labs(title = "Revenue by Product and Customer Segment", y = "Revenue ($)", x = "Product") +
    theme_minimal()
  ```
- **Use Case**: Visualize which segment drives Laptop sales to target marketing campaigns.

---

## Statistical Analysis in R

### 1. Correlation Analysis
- **Check Relationship Between Units Sold and Revenue**:
  ```R
  cor(retail_sales$Units_Sold, retail_sales$Revenue)  # [1] 0.999
  ```
- **Insight**: Strong positive correlation, confirming revenue scales with units sold.

### 2. Linear Regression
- **Predict Revenue Based on Units Sold**:
  ```R
  model <- lm(Revenue ~ Units_Sold, data = retail_sales)
  summary(model)
  # Output: Coefficients, R-squared (~0.998), p-value (< 2e-16)
  ```
- **Real-Life Example**: Forecast revenue for next month if 170 units of Laptop are sold.
  ```R
  predict(model, data.frame(Units_Sold = 170))  # [1] 169500
  ```

---

## Machine Learning with R

### 1. Classification with caret
- **Goal**: Predict Customer Segment Based on Sales Data
- **Prepare Data**:
  ```R
  set.seed(123)
  train_index <- createDataPartition(retail_sales$Customer_Segment, p = 0.7, list = FALSE)
  train_data <- retail_sales[train_index, ]
  test_data <- retail_sales[-train_index, ]
  ```

- **Train KNN Model**:
  ```R
  model <- train(Customer_Segment ~ Revenue + Units_Sold, data = train_data, method = "knn",
                 trControl = trainControl(method = "cv"), tuneLength = 5)
  predictions <- predict(model, test_data)
  confusionMatrix(predictions, test_data$Customer_Segment)
  ```
- **Use Case**: Identify potential Business customers for targeted offers.

---

## Time Series Analysis in R

### 1. Sales Forecasting
- **Convert to Time Series**:
  ```R
  ts_sales <- ts(retail_sales$Revenue[retail_sales$Product == "Laptop"], frequency = 12, start = c(2024, 1))
  ```

- **Fit ARIMA Model**:
  ```R
  fit <- auto.arima(ts_sales)
  forecast_data <- forecast(fit, h = 3)  # Forecast next 3 months
  plot(forecast_data, main = "Laptop Revenue Forecast (2024-2025)")
  ```
- **Real-Life Example**: Predict January 2025 revenue for inventory planning (~165,000$ based on trend).

---

## Data Science Workflow Example: Retail Business Analysis

### Problem: Optimize Marketing Budget
A retailer wants to allocate marketing funds based on product performance.

1. **Data Exploration**:
   ```R
   summary(retail_sales$Revenue)  # Identify revenue range
   ```

2. **Visualization**:
   ```R
   ggplot(retail_sales, aes(x = Date, y = Revenue, color = Product)) +
     geom_line() +
     ggtitle("Monthly Revenue Trend by Product") +
     theme_minimal()
   ```
   - **Insight**: Laptops show steady growth, warranting more marketing.

3. **Statistical Model**:
   ```R
   model <- lm(Revenue ~ Units_Sold + Customer_Segment, data = retail_sales)
   summary(model)  # Business segment has higher coefficient
   ```

4. **Recommendation**: Allocate 50% of budget to Laptop (Business segment) based on revenue and growth.

---

## Advanced Topics

### 1. R Markdown for Reporting
- Create a report:
  ```R
  install.packages("rmarkdown")
  library(rmarkdown)
  render("sales_report.Rmd", output_format = "pdf_document")
  ```

### 2. Shiny for Interactive Dashboards
- Build a sales dashboard:
  ```R
  install.packages("shiny")
  library(shiny)

  ui <- fluidPage(
    selectInput("product", "Select Product", choices = unique(retail_sales$Product)),
    plotOutput("salesPlot")
  )

  server <- function(input, output) {
    output$salesPlot <- renderPlot({
      ggplot(subset(retail_sales, Product == input$product), aes(x = Date, y = Revenue)) +
        geom_line() + ggtitle(paste(input$product, "Revenue"))
    })
  }

  shinyApp(ui = ui, server = server)
  ```

---

## Best Practices

- **Code Organization**: Use R projects and scripts.
- **Documentation**: Comment code and use R Markdown.
- **Version Control**: Use Git for collaboration.
- **Performance**: Use `data.table` for large datasets.

---

## Conclusion

R is a versatile tool for data science, enabling end-to-end analysis from data cleaning to deployment. The retail sales example demonstrates its real-world applicability in business decision-making. Practice with datasets like those on Kaggle to enhance skills.

### References
- R Documentation: https://www.r-project.org/
- RStudio Support: https://support.rstudio.com/
- Kaggle Datasets: https://www.kaggle.com/datasets
---
```
